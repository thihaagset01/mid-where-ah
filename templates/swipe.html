<!-- templates/swipe.html - FULL SCREEN VERSION -->
{% extends "mobile_base.html" %}

{% block title %}Swipe Voting - MidWhereAh{% endblock %}

{% block head %}
{{ super() }}
<!-- ONLY load our clean swipe CSS -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/swipe.css') }}">
<style>
/* Hide mobile navigation and header for full screen experience */
.group-header-container {
    display: none !important;
}
.bottom-container {
    display: none !important;
}
body {
    padding-bottom: 0 !important;
}
</style>
{% endblock %}

{% block content %}
<div class="swipe-page swipe-fullscreen">
    <!-- FLOATING BACK BUTTON -->
    <button class="swipe-back-floating" onclick="goBackToVenues()">
        <i class="fas fa-arrow-left"></i>
    </button>

    <!-- MEMBERS ROW - FLOATING -->
    <div class="swipe-members-floating">
        <div class="swipe-members-list" id="members-container">
            <!-- Members populated by JS -->
        </div>
    </div>

    <!-- MAIN CONTENT - FULL SCREEN -->
    <main class="swipe-main-fullscreen">
        <!-- Loading State -->
        <div class="swipe-loading" id="loading-container">
            <div style="font-size: 24px; margin-bottom: 16px;">
                <i class="fas fa-spinner fa-spin"></i>
            </div>
            <p>Loading venues...</p>
        </div>

        <!-- Empty State -->
        <div class="swipe-empty" id="empty-container" style="display: none;">
            <div style="font-size: 48px; margin-bottom: 16px;">
                <i class="fas fa-heart-broken"></i>
            </div>
            <h3>All Done!</h3>
            <p>You've voted on all venues</p>
            <button class="swipe-empty-btn" onclick="showResults()">
                View Results
            </button>
        </div>

        <!-- Venue Cards - FULL SCREEN -->
        <div class="swipe-stack-fullscreen" id="swipe-container">
            <!-- Cards populated by JS -->
        </div>

        <!-- Instructions -->
        <div class="swipe-instructions" id="swipe-instructions">
            <div class="swipe-instructions-icons">
                <i class="fas fa-arrow-left" style="color: #ff4444;"></i>
                <i class="fas fa-hand-point-up"></i>
                <i class="fas fa-arrow-right" style="color: #00C851;"></i>
            </div>
            <p class="swipe-instructions-text">Swipe your preferences</p>
            <p class="swipe-instructions-subtext">Swipe left to pass ‚Ä¢ Swipe right to like</p>
        </div>
    </main>

    <!-- ACTION BUTTONS - FULL SCREEN POSITIONED -->
    <div class="swipe-actions-fullscreen">
        <button class="swipe-action-btn swipe-pass-btn" onclick="swipeLeft()" disabled>
            <i class="fas fa-times"></i>
        </button>
        <button class="swipe-action-btn swipe-like-btn" onclick="swipeRight()" disabled>
            <i class="fas fa-heart"></i>
        </button>
    </div>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<!-- Load swipe.js -->
<script src="{{ url_for('static', filename='js/swipe.js') }}"></script>
<script>
// Initialize swipe interface when page loads
document.addEventListener('DOMContentLoaded', function() {
    const groupId = '{{ group_id }}';
    if (groupId) {
        console.log('üéØ Initializing full-screen swipe interface for group:', groupId);
        initializeSwipeInterface(groupId);
    } else {
        console.error('‚ùå No group ID provided to swipe interface');
    }
});
</script>
{% endblock %}